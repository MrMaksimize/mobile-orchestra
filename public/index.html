<!doctype html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="static/animate.css">
    <style type="text/css">
      body {
        background: url('static/rainbow_white.gif');
      }
      .cowbell {
        background: url('static/cowbell_trans.png');
        background-repeat: no-repeat;
        background-size: contain;
        height: 200px;
        margin:0 auto;
        margin-top:150px;
        width:150px;
      }
    </style>
    <title>More Cowbell</title>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io.connect('/phone');
      socket.on('connect', function (e) {
        console.log('Connected.');
      })
    </script>
  </head>
  <body>
    <div id="cowbell" class="cowbell">
    </div>
    <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
    <script>
      $(document).ready(function() {
        animateFinishedEvent = 'webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend';

        var audioElement = document.createElement('audio');
        audioElement.setAttribute('src', 'sound/cowbell.mp3');

        $("#cowbell").bind(animateFinishedEvent, function() {
          $("#cowbell").removeClass('animated shake');
          audioElement.stop();
        });
        $("#cowbell").bind('click', function() {
          $('#cowbell').addClass('animated shake');
          audioElement.play();
        });
      });
    </script>
  </body>
</html>
